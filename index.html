<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soluciones de TrÃ¡fico</title>
  <style>
    /* === RESET === */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: Arial, sans-serif; line-height: 1.6; background: #f9f9f9; color: #222; }

    /* === HEADER === */
    header {
      position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
      background: #0a1930; color: white; display: flex; justify-content: space-between; 
      align-items: center; padding: 1rem 2rem;
    }
    header nav ul { display: flex; list-style: none; }
    header nav ul li { margin: 0 1rem; }
    header nav ul li a { color: white; text-decoration: none; font-weight: bold; }
    header nav ul li a:hover { color: #fdd835; }
    
    /* === BURGER MENU === */
    .burger { display: none; cursor: pointer; }
    .burger div { width: 25px; height: 3px; background: white; margin: 5px; }

    @media(max-width: 768px) {
      nav ul { display: none; flex-direction: column; background: #0a1930; position: absolute; top: 60px; right: 0; width: 200px; }
      nav ul.show { display: flex; }
      .burger { display: block; }
    }

    /* === SECTIONS === */
    section { padding: 100px 20px; max-width: 1200px; margin: auto; opacity: 0; transform: translateY(40px); transition: all 1s ease; }
    section.visible { opacity: 1; transform: translateY(0); }

    .hero { text-align: center; padding-top: 150px; }
    .hero h1 { font-size: 2.5rem; color: #0a1930; }
    .hero p { font-size: 1.2rem; color: #555; margin-top: 1rem; }

    /* === IMAGE CAROUSEL === */
    .carousel { position: relative; overflow: hidden; width: 100%; max-width: 800px; margin: 50px auto; }
    .carousel-track { display: flex; transition: transform 0.5s ease-in-out; }
    .carousel img { width: 800px; height: 400px; object-fit: cover; filter: grayscale(100%) contrast(120%) sepia(50%) hue-rotate(30deg) saturate(200%); }

    .carousel button { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.5); border: none; color: white; padding: 10px; cursor: pointer; }
    .carousel .prev { left: 10px; }
    .carousel .next { right: 10px; }

    /* === TEXT CAROUSEL === */
    .text-carousel { text-align: center; background: #0a1930; color: white; padding: 50px 20px; }
    .text-carousel p { display: none; font-size: 1.2rem; }
    .text-carousel p.active { display: block; }

    /* === FOOTER === */
    footer { background: #0a1930; color: white; text-align: center; padding: 40px 20px; margin-top: 50px; }
    footer a { color: #fdd835; text-decoration: none; }

    /* === FLOATING WHATSAPP BUTTON === */
    .whatsapp-btn {
      position: fixed; bottom: 20px; right: 20px; background: #25D366; color: white;
      border-radius: 50%; width: 60px; height: 60px; display: flex; justify-content: center; align-items: center;
      font-size: 30px; box-shadow: 0 4px 6px rgba(0,0,0,0.3); cursor: pointer; z-index: 1100;
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="logo"></div>
    <nav><ul></ul></nav>
    <div class="burger"><div></div><div></div><div></div></div>
  </header>

  <!-- CONTENT SECTIONS -->
  <main id="content"></main>

  <!-- FOOTER -->
  <footer id="footer"></footer>

  <!-- WHATSAPP BUTTON -->
  <div class="whatsapp-btn">ðŸ’¬</div>

  <!-- === EMBEDDED XML DATA === -->
  <script type="text/xml" id="site-data">
    <website>
      <header>
        <logo>ðŸš¦ Soluciones de TrÃ¡fico</logo>
        <menu>
          <item link="#nosotros">QuiÃ©nes somos</item>
          <item link="#productos">Productos</item>
          <item link="#servicios">Servicios</item>
          <item link="#aliados">Aliados</item>
          <item link="#contacto">Contacto</item>
        </menu>
      </header>

      <section id="nosotros" type="hero">
        <title>Conoce sobre nosotros</title>
        <text>Somos una empresa con 26 aÃ±os de experiencia en movilidad inteligente y segura.</text>
      </section>

      <carousel id="productos">
        <title>Nuestros Productos</title>
        <image>https://picsum.photos/800/400?random=1</image>
        <image>https://picsum.photos/800/400?random=2</image>
        <image>https://picsum.photos/800/400?random=3</image>
      </carousel>

      <text-carousel id="servicios">
        <text>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</text>
        <text>Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</text>
        <text>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</text>
      </text-carousel>

      <footer>
        <text>Â© 2025 Soluciones de TrÃ¡fico</text>
        <privacy link="#">PolÃ­tica de privacidad</privacy>
      </footer>
    </website>
  </script>

  <!-- === SCRIPT TO RENDER XML === -->
  <script>
    // Load XML
    const xmlText = document.getElementById("site-data").textContent;
    const parser = new DOMParser();
    const xml = parser.parseFromString(xmlText, "text/xml");

    // Populate header
    document.querySelector(".logo").textContent = xml.querySelector("header > logo").textContent;
    const menuItems = xml.querySelectorAll("header > menu > item");
    const navList = document.querySelector("nav ul");
    menuItems.forEach(item => {
      const li = document.createElement("li");
      const a = document.createElement("a");
      a.href = item.getAttribute("link");
      a.textContent = item.textContent;
      li.appendChild(a);
      navList.appendChild(li);
    });

    // Populate sections
    const content = document.getElementById("content");
    xml.querySelectorAll("section, carousel, text-carousel").forEach(node => {
      const sec = document.createElement("section");
      sec.id = node.getAttribute("id") || "";

      if(node.tagName === "section" && node.getAttribute("type") === "hero") {
        sec.classList.add("hero");
        sec.innerHTML = `<h1>${node.querySelector("title").textContent}</h1><p>${node.querySelector("text").textContent}</p>`;
      }

      if(node.tagName === "carousel") {
        sec.innerHTML = `<h2 style="text-align:center; color:#0a1930;">${node.querySelector("title").textContent}</h2>
          <div class="carousel">
            <button class="prev">â€¹</button>
            <div class="carousel-track"></div>
            <button class="next">â€º</button>
          </div>`;
        const track = sec.querySelector(".carousel-track");
        node.querySelectorAll("image").forEach(img => {
          const image = document.createElement("img");
          image.src = img.textContent;
          track.appendChild(image);
        });
      }

      if(node.tagName === "text-carousel") {
        sec.classList.add("text-carousel");
        node.querySelectorAll("text").forEach((t,i) => {
          const p = document.createElement("p");
          p.textContent = t.textContent;
          if(i===0) p.classList.add("active");
          sec.appendChild(p);
        });
      }

      content.appendChild(sec);
    });

    // Footer
    const footer = document.getElementById("footer");
    footer.innerHTML = `${xml.querySelector("footer text").textContent} | 
      <a href="${xml.querySelector("footer privacy").getAttribute("link")}">
      ${xml.querySelector("footer privacy").textContent}</a>`;

    // Burger menu
    const burger = document.querySelector('.burger');
    burger.addEventListener('click', () => navList.classList.toggle('show'));

    // Scroll fade-in
    const sections = document.querySelectorAll('section');
    window.addEventListener('scroll', () => {
      sections.forEach(sec => {
        const top = sec.getBoundingClientRect().top;
        if(top < window.innerHeight - 100) sec.classList.add('visible');
      });
    });

    // Carousels
    function initCarousels() {
      document.querySelectorAll('.carousel').forEach(carousel => {
        const track = carousel.querySelector('.carousel-track');
        const images = track.querySelectorAll('img');
        let index = 0;
        carousel.querySelector('.next').addEventListener('click', () => {
          index = (index + 1) % images.length;
          track.style.transform = `translateX(-${index * 800}px)`;
        });
        carousel.querySelector('.prev').addEventListener('click', () => {
          index = (index - 1 + images.length) % images.length;
          track.style.transform = `translateX(-${index * 800}px)`;
        });
      });
    }
    initCarousels();

    // Text carousel autoplay
    setInterval(() => {
      document.querySelectorAll('.text-carousel').forEach(car => {
        const texts = car.querySelectorAll("p");
        let current = [...texts].findIndex(t => t.classList.contains("active"));
        texts[current].classList.remove("active");
        let next = (current + 1) % texts.length;
        texts[next].classList.add("active");
      });
    }, 4000);
  </script>
</body>
</html>
